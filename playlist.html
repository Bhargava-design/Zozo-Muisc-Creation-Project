<!DOCTYPE html>
<html>
<head>
    <title>Azure Storage Music Playlist</title>
</head>
<body>
    <h1>Music Playlist</h1>
    <ul id="playlist">
        <!-- The playlist will be generated dynamically by JavaScript -->
    </ul>

    <audio controls id="audio-player">
        <!-- The audio player to play the selected MP3 file -->
        Your browser does not support the audio element.
    </audio>
   <script>
        // Function to play the selected MP3 file
        function playMusic(fileUrl) {
            const audioPlayer = document.getElementById('audio-player');
            audioPlayer.src = fileUrl;
            audioPlayer.play();
        }
        // Fetch the content of azure_storage_content.md using Fetch API
        fetch('azure_storage_content.py')
            .then(response => response.text())
            .then(text => {
                // Split the text into lines to extract individual file names
                const fileLines = text.split('\n');

                // Get the playlist element
                const playlist = document.getElementById('playlist');

                // Loop through the file lines and add each file as a list item to the playlist
                fileLines.forEach(file => {
                    if (file) { // Ensure the line is not empty
                        const listItem = document.createElement('li');
                        
                        listItem.innerHTML = `<a href="javascript:void(0);" onclick="playMusic('${fileName}')">${fileName}</a>`;
                        #listItem.textContent = file.substring(2); // Remove the '- ' prefix
                        playlist.appendChild(listItem);
                    }
                });
            })
            .catch(error => console.error('Error fetching the playlist:', error));
    </script>
</body>
</html>

